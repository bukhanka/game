# Космический Хоррор Выживания

## Описание

"Космический Хоррор Выживания" - это захватывающая игра в жанре survival horror, разработанная на Python с использованием библиотеки Pygame. Игрок оказывается на таинственной космической станции, где ему предстоит выжить, разгадывая загадки и избегая опасных монстров.

## Особенности

- **Атмосферный геймплей**: Погрузитесь в мрачную атмосферу заброшенной космической станции.
- **Система выживания**: Управляйте здоровьем, выносливостью и уровнем шума вашего персонажа.
- **Разнообразные монстры**: Столкнитесь с различными типами врагов, каждый со своим уникальным поведением.
- **Головоломки и задачи**: Решайте загадки и выполняйте кодовые задания для продвижения по игре.
- **Динамическое освещение**: Используйте свет и тень для создания напряженной атмосферы.
- **Система укрытий**: Прячьтесь от монстров в специальных укрытиях.
- **Инвентарь и заметки**: Собирайте предметы и информацию для выживания и раскрытия тайн станции.
- **Система сохранения**: Сохраняйте свой прогресс в специальных комнатах сохранения.

## Установка

1. Убедитесь, что у вас установлен Python 3.8 или выше.
2. Клонируйте репозиторий:
   ```
   git clone https://github.com/ваш-username/космический-хоррор-выживания.git
   ```
3. Перейдите в директорию проекта:
   ```
   cd космический-хоррор-выживания
   ```
4. Установите необходимые зависимости:
   ```
   pip install -r requirements.txt
   ```

## Настройка

1. Создайте файл `.env` в корневой директории проекта.
2. Добавьте следующие переменные окружения в файл `.env`:
   ```
   OPENAI_API_KEY=ваш_ключ_api_openai
   ELEVENLABS_API_KEY=ваш_ключ_api_elevenlabs
   ```

## Запуск игры

Для запуска игры выполните следующую команду в терминале:
```
python main.py
```

## Управление

- **W, A, S, D**: Движение персонажа
- **Shift**: Бег
- **F**: Спрятаться/выйти из укрытия
- **E**: Взаимодействие с объектами
- **C**: Открыть инвентарь
- **Q**: Открыть заметки
- **ESC**: Пауза/выход из меню

## Разработка

### Структура проекта

- `main.py`: Основной файл игры
- `settings.py`: Настройки игры
- `player.py`: Класс игрока
- `monster.py`: Классы монстров
- `level.py`: Управление уровнями
- `ui.py`: Пользовательский интерфейс
- `code_task.py`: Система кодовых заданий
- `chat_terminal.py`: Терминал для общения с ИИ
- `code_terminal.py`: Терминал для решения кодовых задач
- `hide.py`: Система укрытий
- `door.py`: Управление дверями и переходами между уровнями
- `communication_terminal.py`: Терминал для получения информации о игровом мире
- `save_terminal.py`: Система сохранения игры

### Добавление новых уровней

1. Создайте новый JSON-файл в директории `assets/levels/`.
2. Определите параметры уровня, включая расположение объектов, монстров и задач.
3. Добавьте ссылку на новый уровень в существующие уровни для создания последовательности.

Пример структуры файла уровня (`assets/levels/level1.json`):

```json
{
    "player_start": {"x": 640, "y": 670},
    "background": "level1_background.png",
    "shelves": [
        {"x": 100, "y": 200},
        {"x": 500, "y": 400}
    ],
    "doors": [
        {"x": 1200, "y": 600}
    ],
    "code_terminal": {"x": 300, "y": 500},
    "chat_terminal": {"x": 800, "y": 300},
    "vertical_zones": [
        {"x": 0, "y": 0, "width": 100, "height": 720}
    ],
    "monsters": [
        {"type": "Monster", "x": 900, "y": 500},
        {"type": "RangedMonster", "x": 400, "y": 200}
    ],
    "next_level": "assets/levels/level2.json"
}
```

### Создание новых монстров

1. Добавьте новый класс монстра в `monster.py`, наследуя от базового класса `Monster`.
2. Определите уникальное поведение и характеристики монстра.
3. Добавьте нового монстра в систему спавна в `level.py`.

Пример создания нового монстра:

```python
class NewMonster(Monster):
    def __init__(self, position, groups, player):
        super().__init__(position, groups, player)
        self.speed = MONSTER_SPEED * 1.5
        self.damage = 2
        self.special_ability = "teleport"

    def update(self, time_delta):
        super().update(time_delta)
        if random.random() < 0.01:  # 1% шанс телепортации
            self.teleport()

    def teleport(self):
        new_x = random.randint(0, WINDOW_WIDTH)
        new_y = random.randint(0, WINDOW_HEIGHT)
        self.rect.topleft = (new_x, new_y)
```

### Система сохранения

Игра включает в себя систему сохранения, позволяющую игрокам сохранять свой прогресс в специальных комнатах сохранения. Эта система реализована с помощью следующих компонентов:

- `save_terminal.py`: Содержит логику для сохранения и загрузки игрового прогресса.
- `assets/levels/save_room.json`: Определяет структуру и содержимое комнаты сохранения.

Чтобы использовать систему сохранения:

1. Найдите комнату сохранения на уровне.
2. Подойдите к терминалу сохранения и взаимодействуйте с ним, нажав клавишу E.
3. Выберите опцию сохранения или загрузки игры.

Сохранения хранятся в отдельных файлах, позволяя игрокам иметь несколько сохранений и возвращаться к ним по желанию.

## План развития

В будущем планируется реализовать следующие функции для улучшения игрового процесса:

1. **Генерация истории с помощью ИИ**:
   - Использование OpenAI API через библиотеку LangChain для создания динамических сюжетных элементов.
   - Генерация уникальных предысторий и сюжетных поворотов для каждого прохождения.

2. **Голосовое озвучивание**:
   - Интеграция API ElevenLabs для преобразования текста в речь.
   - Создание реалистичного голосового озвучивания для диалогов, подсказок и атмосферных элементов.

3. **Процедурная генерация музыки**:
   - Использование API Suno AI для создания уникальной фоновой музыки.
   - Генерация атмосферной музыки, соответствующей текущему настроению и ситуации в игре.

4. **Адаптивное поведение монстров**:
   - Разработка более сложной системы ИИ для управления поведением монстров.
   - Реализация механизмов обучения монстров на действиях игрока.

5. **Динамическая генерация уровней**:
   - Создание системы для процедурной генерации уникальных конфигураций уровней.
   - Разработка алгоритмов для балансировки сложности и интересности генерируемых уровней.

6. **Улучшение интерактивных терминалов**:
   - Внедрение более продвинутой обработки естественного языка для чат-терминалов.
   - Разработка системы генерации уникальных задач и головоломок для кодовых терминалов.

7. **Анализ поведения игрока**:
   - Создание системы сбора и анализа данных о действиях игрока.
   - Разработка механизмов адаптации сложности и игрового опыта на основе собранных данных.

Эти планируемые улучшения направлены на создание еще более динамичного, адаптивного и иммерсивного игрового мира, который будет уникальным для каждого игрока и каждого прохождения.

## Лицензия

Этот проект лицензирован под MIT License - см. файл [LICENSE](LICENSE) для деталей.